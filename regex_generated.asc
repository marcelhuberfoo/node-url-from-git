tag::python-regex-verbose[]
(?m)                        # match multi line string
^                           # match from the beginning of the line
  (?P<scheme>               # 1:  (optional) scheme section, missing implicitly means `ssh://`
    (?P<protocol>[\w]+)     # 2:  access protocol
    ://
  )?
  (?P<credentials>          # 3:  (optional) credentials
    (?P<user>[^:]+)         # 4:  user to authenticate with
    (:                      # 5:  (optional) password section
      (?P<pass>[^@]+)       # 6:  password
    )?
    @
  )?
  (                         # 7:  (optional) FQDN section if : or / follows
    (?P<fqdn>               # 8:  FQDN including port
      (?P<host>             # 9:  name part of fqdn, requires at least a two part name
        ([\w\d]+            # 10: hostname
          (\.[\w\d]+)+      # 11: domainname
        )
      )
      (:                    # 12: (optional) port section
        (?P<port>[\d]+)     # 13: port number
      )?
    )
    (?=[:/])                # 14: lookahead assertion; only match previous group if : or / matches next
  )?
  (?P<scporpath>[:/])?      # 15: (optional) separator between fqdn and path section
  (?P<pathtorepo>           # 16: path/namespace and repository name
    (                       # 17: (optional) namespace section if / follows
      (?P<namespace>        # 18: path/namespace
        ([^/]+              # 19: first path segment
          (/[^/]+)*         # 20: any further path segment
        )
      )
      (?=[/])               # 21: lookahead assertion; only match previous group if / matches next
    )?
    /?
    (?P<project>[^/]+       # 22: repository name with optional .git suffix
      (\.git)?              # 23: (optional) .git suffix
    )
  )
  /?                        # according to git url examples, a terminating slash might be part of the url
$                           # until the end of the line

end::python-regex-verbose[]
tag::python-regex[]
(?m)^(?P<scheme>(?P<protocol>[\w]+)://)?(?P<credentials>(?P<user>[^:]+)(:(?P<pass>[^@]+))?@)?((?P<fqdn>(?P<host>([\w\d]+(\.[\w\d]+)+))(:(?P<port>[\d]+))?)(?=[:/]))?(?P<scporpath>[:/])?(?P<pathtorepo>((?P<namespace>([^/]+(/[^/]+)*))(?=[/]))?/?(?P<project>[^/]+(\.git)?))/?$
end::python-regex[]
tag::javascript-regex[]
/^(([\w]+):\/\/)?(([^:]+)(:([^@]+))?@)?(((([\w\d]+(\.[\w\d]+)+))(:([\d]+))?)(?=[:\/]))?([:\/])?(((([^\/]+(\/[^\/]+)*))(?=[\/]))?\/?([^\/]+(\.git)?))\/?$/
end::javascript-regex[]
